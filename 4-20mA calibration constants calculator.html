<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
  <title>4-20mA calibration constants calculator</title>
  <link rel="stylesheet" type="text/css" href="4-20mA%20calibration%20constants%20calculator_files/default.css">
 
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- base href="http://owenduffy.net/calc/4-20cal.htm" -->
  <style type="text/css">
  .auto-style91 {
	  border-style: solid;
	  border-width: 2px;
  }
  .auto-style92 {
	  border-width: 2px;
  }
  </style>
<script language="JavaScript" type="text/javascript">
/*
Copyright: 2018 Owen Duffy. All rights reserved.
*/

id='$Id: toroid.htm';

function calc_u(){
rst();
mm0=Number(frmCalc.mm0.value);
mi0=Number(frmCalc.mi0.value);
i1=Number(frmCalc.i1.value);
i2=Number(frmCalc.i2.value);
r1=(Number(frmCalc.r1.value)-mi0)/mm0;
r2=(Number(frmCalc.r2.value)-mi0)/mm0;

meas_slope=(i2-i1)/(r2-r1);
meas_intercept=((i1+i2)-meas_slope*(r1+r2))/2;
frmCalc.mm.value=meas_slope.toPrecision(5);
frmCalc.mi.value=meas_intercept.toPrecision(5);
}

function rst(){
frmCalc.mm.value="";
frmCalc.mi.value="";
}    
</script></head>


<body>
  
  
  <style type="text/css">
.auto-style1 {
	font-size: xx-large;
	font-family: Arial, Helvetica, sans-serif;
}
</style>
  

  <table width="100%" cellspacing="5" cellpadding="0" border="0">
    <tbody><tr>
      <td class="auto-style1" width="50%"><a href="http://owenduffy.net/index.htm">OwenDuffy.net</a>&nbsp;</td>
      <td width="50%"><p align="right">
      </p></td>
    </tr>
  </tbody></table>
<p></p>


<hr>


<h1>4-20mA calibration constants calculator</h1>
<p>Set intial meas_slope=1 and meas_intercept=0 on the target and the form, and 
make the Scenario 1 and Scenario 2 measurements to find the new calibration 
constants meas_slope and meas_intercept for the target.</p>
<p>It is possible to calculate new calibration constants from other intial 
constants, enter the actual values in the intial boxes. </p>

<form name="frmCalc">
  <table class="auto-style91" cellspacing="5" cellpadding="0">
    <tbody>
      <tr>
        <td colspan="3" class="auto-style92"><strong>Inputs:</strong></td>
      </tr>
      <tr>
        <td colspan="3" class="auto-style92">
		<input name="title" size="60" maxlength="60" onfocus="rst(this.form)" tabindex="1" type="text"></td>
      </tr>
        <tr>
        <td class="auto-style92">initial meas_slope</td>
        <td colspan="2" class="auto-style92">
		<input name="mm0" value="1" size="20" maxlength="80" style="height: 22px" tabindex="2" type="text"></td>
        </tr>
		<tr>
        <td class="auto-style92">initial meas_intercept</td>
        <td colspan="2" class="auto-style92">
		<input name="mi0" value="0" size="20" maxlength="80" style="height: 22px" tabindex="3" type="text"></td>
        </tr>
      <tr>
        <td class="auto-style92">&nbsp;</td>
        <td class="auto-style92">
		Input</td>
        <td class="auto-style92">
		Result</td>
      </tr>
        <tr>
        <td class="auto-style92">Scenario 1</td>
        <td class="auto-style92">
		(A)
		<input name="i1" size="15" maxlength="12" onfocus="rst(this.form)" tabindex="4" style="height: 22px" type="text"></td>
        <td class="auto-style92">
		(B)
		<input name="r1" size="15" maxlength="12" onfocus="rst(this.form)" tabindex="5" style="height: 22px" type="text"></td>
        </tr>
      <tr>
        <td class="auto-style92">Scenario 2</td>
        <td class="auto-style92">
		(C)
		<input name="i2" size="15" maxlength="12" onfocus="rst(this.form)" tabindex="6" style="height: 22px" type="text"></td>
        <td class="auto-style92">
		(D)
		<input name="r2" size="15" maxlength="12" onfocus="rst(this.form)" tabindex="7" style="height: 22px" type="text"></td>
      </tr>
      <tr>
        <td colspan="3" class="auto-style92">&nbsp;<input value="Calculate" onclick="calc_u();" tabindex="8" type="button"></td>
      </tr>
      <tr>
        <td colspan="3" class="auto-style92"><strong>Results:</strong></td>
      </tr>
        <tr>
        <td class="auto-style92">meas_slope</td>
        <td colspan="2" class="auto-style92">
		<input name="mm" size="20" maxlength="80" readonly="readonly" style="height: 22px" type="text"></td>
        </tr>
        <tr>
        <td class="auto-style92">meas_intercept</td>
        <td colspan="2" class="auto-style92">
		<input name="mi" size="20" maxlength="80" readonly="readonly" style="height: 22px" type="text"></td>
        </tr>
    </tbody>
  </table>
</form>

<p>The calculator does not do a lot of error checking, if you enter nonsense, it 
will produce nonsense. NaN means not a number, check the input values.</p>
<h1>Changes</h1>
<div align="left">
<table cellspacing="5" cellpadding="0" border="2">
  <tbody>
    <tr>
      <td><b>Version</b></td>
      <td><b>Date</b></td>
      <td><b>Description</b></td>
    </tr>
    <tr>
      <td><b>1.01</b></td>
      <td>25/02/2018</td>
      <td>Initial.</td>
    </tr>
    <tr>
      <td><b>1.02</b></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><b>1.03</b></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><b>1.04</b></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><b>1.05</b></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>
</div>

<hr>

<script language="JavaScript" type="text/javascript">
<!-- Begin code
if(top!=self) top.location.href=self.location.href
// End code -->
</script>
<p>© Copyright:
Owen Duffy 1995, 2017. All rights reserved. <a href="http://owenduffy.net/disclaimer.htm" target="_blank">Disclaimer</a>.</p>
<p><br>
</p>



</body></html>